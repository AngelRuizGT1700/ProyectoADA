<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MatrixCalc</title>
    <link rel="stylesheet" href="/frontend/src/styles/calculadora.css" />
  </head>
  <body>
    <header>
      <section>
        <div class="logo">
          <a href="../../../index.html">
            <img
              src="/frontend/src/assets/svg/logoW.svg"
              alt="MatrixCalc-Logo"
            />
          </a>
        </div>
      </section>
      <section>
        <div id="name-operation">
          <!--Aquí es el container del titulo en el header-->
        </div>
      </section>
      <section>
        <div class="elementnavbar">
          <a href="../../../index.html">
            <img src="/frontend/src/assets/svg/homeW.svg" alt="Inicio" />
          </a>
        </div>
      </section>
    </header>
    <main>
      <section class="matrix-input">
        <h2>Calculadora de Matrices</h2>
        <p>Ingrese una matriz:</p>
        <div class="matrix-controls" view="flex">
          <button onclick="" class="matrix-button">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/guardar-matriz-blanco.svg"
              alt="Guardar Matriz"
            />
            <span>Guardar Matriz</span>
          </button>
          <button onclick="addRow()" class="matrix-button">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/anadir-fila-blanco.svg"
              alt="Agregar Fila"
            />
            <span>Agregar Fila</span>
          </button>
          <button onclick="" class="matrix-button">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/eliminar-fila-blanco.svg"
              alt="Eliminar Fila"
            />
            <span>Eliminar Fila</span>
          </button>
          <button onclick="addColumn()" class="matrix-button">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/anadir-columna-blanco.svg"
              alt="Agregar Columna"
            />
            <span>Agregar Columna</span>
          </button>
          <button onclick="" class="matrix-button">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/eliminar-columna-blanco.svg"
              alt="Agregar Columna"
            />
            <span>Eliminar Columna</span>
          </button>
          <label class="custom-button" for="fileInput">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/subir-matriz-blanco.svg"
              alt="Subir Matriz"
            />
            <span>Subir Matriz</span>
          </label>
          <input class="file-upload" type="file" id="fileInput" accept=".txt" />
          <button onclick="" class="matrix-button">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/copiar-resultado.svg"
              alt="Copiar Matriz"
            />
            <span>Copiar Matriz</span>
          </button>
          <button onclick="clearMatrix()" class="matrix-button">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/limpiar-matriz-blanco.svg"
              alt="Limpiar Matriz"
            />
            <span>Limpiar Matriz</span>
          </button>
          <button onclick="resetMatrix()" class="matrix-button">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/resetear-matriz-blanco.svg"
              alt="Resetear Matriz"
            />
            <span>Resetear Matriz</span>
          </button>
        </div>
        <div id="matrix-container-wrapper">
          <div id="matrix-container">
            <!--Aquí es el container de la table y los inputs-->
          </div>
        </div>
        <div class="matrix-controls" id="calculate" view="flex">
          <button onclick="calculateMatrix()" class="matrix-button">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/calcular-matriz.svg"
              alt="Calcular Matriz"
            />
            <span>Calcular</span>
          </button>
        </div>
      </section>
      <section class="matrix-results">
        <h2>Resultados</h2>
        <div id="results-container">
          <!--Aquí es el container de Resultados Dínamicos-->
        </div>
        <div class="matrix-controls">
          <button onclick="copyResult()">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/copiar-resultado.svg"
              alt="Copiar Resultado"
            />
            <span>Copiar Resultado</span>
          </button>
          <button onclick="deleteResult()">
            <img
              class="img-matrix-controls"
              src="/frontend/src/assets/svg/borrar-resultado-blanco.svg"
              alt="Borrar Resultado"
            />
            <span>Borrar Resultado</span>
          </button>
        </div>
      </section>
    </main>
    <!-- Contenedor para las notificaciones -->
    <div id="notification-container"></div>
    <footer>
      <p>Derechos reservados MatrixCalc©</p>
    </footer>
    <script>
      // Captura los parámetros 'titulo' y 'operation' de la URL
      const params = new URLSearchParams(window.location.search);
      const titulo = params.get("titulo");

      // Obtiene el contenedor donde se insertará el <h2>
      const nameOperationContainer = document.getElementById("name-operation");

      // Crea el elemento <h2> y establece su contenido
      const h2Element = document.createElement("h2");
      h2Element.textContent = titulo
        ? decodeURIComponent(titulo)
        : "Título predeterminado";

      // Inserta el <h2> en el contenedor
      nameOperationContainer.appendChild(h2Element);
    </script>
    <script src="../scripts/calculadora.js"></script>
    <!--<script type="module" src="main.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.1.0/math.min.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/fraction.js/4.0.1/fraction.min.js"></script>-->
  </body>
</html>
